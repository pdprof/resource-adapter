<server description="new server">

    <!-- Enable features -->
    <featureManager>
        <feature>jsp-2.3</feature>
        <feature>jca-1.7</feature>
        <feature>jndi-1.0</feature>
        <feature>localConnector-1.0</feature>
    </featureManager>

    <httpAccessLogging id="pdprofAccessLogging" logFormat="%h %u %t &quot;%r&quot; %s %b %{remote}p %D %{JSESSIONID}C %{Set-Cookie}o"/>
    <!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" -->
    <httpEndpoint accessLoggingRef="pdprofAccessLogging" httpPort="9080" httpsPort="9443" id="defaultHttpEndpoint" host="*"/>

    <logging  traceSpecification="RRA=all:WAS.j2c=all:com.ibm.ws.jdbc.*=all:Transaction=all:ConnLeakLogic=all"
      traceFileName="trace.log"
      maxFileSize="20"
      maxFiles="10"
      traceFormat="BASIC" />

   <basicRegistry id="basic">
      <user name="wsadmin" password="passw0rd" />
      <user name="reader" password="passw0rd" />
   </basicRegistry>
   <administrator-role>
      <user>wsadmin</user>
   </administrator-role>
   <reader-role>
      <user>reader</user>
   </reader-role>

    <!-- Automatically expand WAR files and EAR files -->
    <applicationManager autoExpand="true"/>

    <resourceAdapter id="PDPROFRA" location="/config/pdprof-resource-adapter.rar"/>
	
    <connectionFactory jndiName="ra/pdprofcf">
	<properties.PDPROFRA/>
    </connectionFactory>
	
    <connectionFactory jndiName="ra/secondcf">
	<properties.PDPROFRA/>
    </connectionFactory>
    
    <!-- Default SSL configuration enables trust for default certificates from the Java runtime --> 
    <ssl id="defaultSSLConfig" trustDefaultCerts="true"/>

    <applicationMonitor updateTrigger="mbean"/>

    <enterpriseApplication id="resource-ear" location="resource-ear.ear" name="resource-ear">
    	<classloader classProviderRef="PDPROFRA" />
    </enterpriseApplication>
</server>
